(function(){var e={2685:function(e,t,n){"use strict";var r=n(3751),a=n(641);function o(e,t,n,r,o,s){var c=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(c)}var s=(0,a.pM)({name:"App"}),c=n(6262);const u=(0,c.A)(s,[["render",o]]);var i=u,l=n(5220);function d(e,t,n,r,o,s){var c=(0,a.g2)("el-button");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c,{onClick:t[0]||(t[0]=function(t){return e.goToPage("chat_1")}),type:"primary",size:"medium"},{default:(0,a.k6)((function(){return t[4]||(t[4]=[(0,a.eW)("Chat 1")])})),_:1}),(0,a.bF)(c,{onClick:t[1]||(t[1]=function(t){return e.goToPage("chat_2")}),type:"success",size:"medium"},{default:(0,a.k6)((function(){return t[5]||(t[5]=[(0,a.eW)("Chat 2")])})),_:1}),(0,a.bF)(c,{onClick:t[2]||(t[2]=function(t){return e.goToPage("chat_3")}),type:"warning",size:"medium"},{default:(0,a.k6)((function(){return t[6]||(t[6]=[(0,a.eW)("Chat 3")])})),_:1}),(0,a.bF)(c,{onClick:t[3]||(t[3]=function(t){return e.goToPage("ChatView")}),type:"warning",size:"medium"},{default:(0,a.k6)((function(){return t[7]||(t[7]=[(0,a.eW)("ChatView")])})),_:1})])}var f=(0,a.pM)({name:"home",setup:function(){var e=(0,l.rd)(),t=function(t){e.push("/".concat(t))};return{goToPage:t}}});const v=(0,c.A)(f,[["render",d]]);var p=v,h={class:"button-content"},g={class:"left-content"},b={class:"right-content"},m={class:"the-search"},k={class:"status-area"},_={class:"input-area"},y={key:0,class:"chat-container"},C={ref:"chatBox",class:"chat-box"},w={class:"message-container"},E={class:"message-content","body-style":{padding:"0px"}},A={key:1};function F(e,t,n,o,s,c){var u=(0,a.g2)("Search"),i=(0,a.g2)("el-icon"),l=(0,a.g2)("WindPower"),d=(0,a.g2)("el-button"),f=(0,a.g2)("el-input"),v=(0,a.g2)("el-avatar"),p=(0,a.g2)("markdown-renderer"),F=(0,a.g2)("el-col"),x=(0,a.g2)("el-row"),P=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=function(t){return e.dialogVisible=!0}),class:"search-button"},[(0,a.Lk)("div",h,[(0,a.Lk)("span",g,[(0,a.bF)(i,null,{default:(0,a.k6)((function(){return[(0,a.bF)(u)]})),_:1}),t[3]||(t[3]=(0,a.Lk)("span",{class:"text"},"点击搜索",-1))]),(0,a.Lk)("span",b,[(0,a.bF)(i,null,{default:(0,a.k6)((function(){return[(0,a.bF)(l)]})),_:1})])])]),(0,a.bF)(P,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dialogVisible=t}),width:"50%"},{default:(0,a.k6)((function(){return[(0,a.Lk)("div",m,[(0,a.Lk)("div",k,[(0,a.bF)(d,{onClick:e.setSearch},{default:(0,a.k6)((function(){return t[4]||(t[4]=[(0,a.eW)("搜索")])})),_:1},8,["onClick"]),(0,a.bF)(d,{onClick:e.setAsked},{default:(0,a.k6)((function(){return t[5]||(t[5]=[(0,a.eW)("对话")])})),_:1},8,["onClick"])]),(0,a.Lk)("div",_,[(0,a.bF)(f,{modelValue:e.newMessage,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newMessage=t}),placeholder:"请输入消息...",clearable:"",class:"message-input",onKeyup:(0,r.jR)(e.sendMessage,["enter"])},null,8,["modelValue","onKeyup"]),e.isAsked&&!e.isButtonDisabled?((0,a.uX)(),(0,a.Wv)(d,{key:0,type:"primary",class:"send-button",disabled:e.isButtonDisabled,onClick:e.sendMessage},{default:(0,a.k6)((function(){return t[6]||(t[6]=[(0,a.eW)("发送")])})),_:1},8,["disabled","onClick"])):(0,a.Q3)("",!0),e.isAsked&&e.isButtonDisabled?((0,a.uX)(),(0,a.Wv)(d,{key:1,type:"primary",class:"send-button",disabled:e.isButtonDisabled},{default:(0,a.k6)((function(){return t[7]||(t[7]=[(0,a.eW)("发送中")])})),_:1},8,["disabled"])):(0,a.Q3)("",!0),e.isAsked?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(d,{key:2,type:"primary",class:"send-button",onClick:e.sendMessage},{default:(0,a.k6)((function(){return t[8]||(t[8]=[(0,a.eW)("搜索")])})),_:1},8,["onClick"]))]),(0,a.Lk)("div",null,[e.isAsked?((0,a.uX)(),(0,a.CE)("div",y,[(0,a.Lk)("div",C,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.messages,(function(t,n){return(0,a.uX)(),(0,a.CE)("div",{key:n,class:"message-item"},[(0,a.bF)(x,{justify:"start"},{default:(0,a.k6)((function(){return[(0,a.bF)(F,{span:23},{default:(0,a.k6)((function(){return[(0,a.Lk)("div",w,[(0,a.bF)(v,{src:"user"===t.sender?e.userAvatar:e.botAvatar,class:"message-avatar"},null,8,["src"]),(0,a.Lk)("div",E,[(0,a.bF)(p,{markdownContent:t.content},null,8,["markdownContent"])])])]})),_:2},1024)]})),_:2},1024)])})),128))],512)])):((0,a.uX)(),(0,a.CE)("div",A,"这是搜索状态"))])])]})),_:1},8,["modelValue"])],64)}var x=n(1635),P=n(797),L=n(4335),R=function(){function e(){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.client=new P.YE({token:"pat_kYRPc16sLCJafNqPh0x5AUS38NugfXeGDW3kElnrqMYzkYTQTIzxY3PYjKGdqyLc",allowPersonalAccessTokenInBrowser:!0,baseURL:"https://api.coze.cn"})}return Object.defineProperty(e.prototype,"cancel_chat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,x.sH)(this,void 0,void 0,(function(){var n,r;return(0,x.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.client.chat.cancel(e,t)];case 1:return n=a.sent(),console.log("Received response:",n),"canceled"===n.status?[2,"canceled"]:[2,"false"];case 2:return r=a.sent(),console.error("Error in cancel_chat:",r instanceof Error?r.message:r),[2,"false"];case 3:return[2]}}))}))}}),Object.defineProperty(e.prototype,"create_chat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return(0,x.sH)(this,void 0,void 0,(function(){var a,o,s,c,u,i,l,d,f,v,p,h,g;return(0,x.YH)(this,(function(b){switch(b.label){case 0:return b.trys.push([0,14,,15]),e||(console.log("No conversationId provided, will be set to undefined"),e=void 0),a={bot_id:t,conversation_id:e,user_id:"123",additional_messages:n,auto_save_history:!0},[4,this.client.chat.stream(a)];case 1:o=b.sent(),console.log("res",o),s={bot_id:"",chat_id:"",conversation_id:"",created_at:"",status:"",content_type:"",content:""},b.label=2;case 2:b.trys.push([2,7,8,13]),c=!0,u=(0,x.xN)(o),b.label=3;case 3:return[4,u.next()];case 4:if(i=b.sent(),v=i.done,v)return[3,6];g=i.value,c=!1,l=g,l.event===P.ZW.CONVERSATION_CHAT_CREATED?(console.log("[START]已经开始加载"),s.bot_id=l.data.bot_id,s.chat_id=l.data.id,s.conversation_id=l.data.conversation_id,s.created_at=l.data.created_at,s.status="created",console.log(s),r(s)):l.event===P.ZW.CONVERSATION_MESSAGE_DELTA?(s.content_type=l.data.content_type,s.content+=l.data.content||"",s.status="loading",console.log(l.data.content),console.log(s.content),r(s)):l.event===P.ZW.CONVERSATION_MESSAGE_COMPLETED&&"answer"===l.data.type?(s.content=l.data.content,console.log("最终回答："+l.data.content),s.status="message_completed",r(s)):l.event===P.ZW.CONVERSATION_CHAT_COMPLETED?(s.status="chat_completed",console.log(l.data.usage),r(s)):l.event===P.ZW.DONE?console.log("结束；"+l.data):l.event===P.ZW.ERROR&&console.error(l.data),b.label=5;case 5:return c=!0,[3,3];case 6:return[3,13];case 7:return d=b.sent(),p={error:d},[3,13];case 8:return b.trys.push([8,,11,12]),c||v||!(h=u.return)?[3,10]:[4,h.call(u)];case 9:b.sent(),b.label=10;case 10:return[3,12];case 11:if(p)throw p.error;return[7];case 12:return[7];case 13:return[3,15];case 14:return f=b.sent(),console.error("Error in create_chat:",f instanceof Error?f.message:f),[3,15];case 15:return[2]}}))}))}}),Object.defineProperty(e.prototype,"initiateChat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,x.sH)(this,void 0,void 0,(function(){var n,r,a,o,s,c,u,i,l,d,f,v,p;return(0,x.YH)(this,(function(h){switch(h.label){case 0:if(!e.trim())return[3,16];t.push({sender:"user",content:e}),h.label=1;case 1:return h.trys.push([1,15,,16]),[4,this.client.chat.stream({bot_id:"7469023039142395904",user_id:"123",additional_messages:[{type:"question",role:P.Tz.User,content_type:"text",content:e}],auto_save_history:!0})];case 2:n=h.sent(),h.label=3;case 3:h.trys.push([3,8,9,14]),r=!0,a=(0,x.xN)(n),h.label=4;case 4:return[4,a.next()];case 5:if(o=h.sent(),l=o.done,l)return[3,7];v=o.value,r=!1,s=v,"conversation.chat.created"===s.event?(console.log("对话创建成功"),t.push({sender:"bot",content:"正在加载..."})):"conversation.chat.in_progress"===s.event?console.log("回答正在加载"):"conversation.message.delta"===s.event?(console.log("正在流式输出"),s.data&&s.data.content&&(c=t[t.length-1],c&&(c.content+=s.data.content))):"conversation.message.completed"===s.event?(console.log("输出完毕"),s.data&&s.data.content&&"answer"===s.data.type&&(c=t[t.length-1],c&&(c.content=s.data.content))):"conversation.chat.completed"===s.event&&console.log("运行结束，共消耗"+(null===(p=s.data.usage)||void 0===p?void 0:p.token_count)+" token"),console.log(s),h.label=6;case 6:return r=!0,[3,4];case 7:return[3,14];case 8:return u=h.sent(),d={error:u},[3,14];case 9:return h.trys.push([9,,12,13]),r||l||!(f=a.return)?[3,11]:[4,f.call(a)];case 10:h.sent(),h.label=11;case 11:return[3,13];case 12:if(d)throw d.error;return[7];case 13:return[7];case 14:return[3,16];case 15:return i=h.sent(),console.error("Error fetching data:",i),[3,16];case 16:return[2]}}))}))}}),e}(),T=(function(){function e(){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spaceId",{enumerable:!0,configurable:!0,writable:!0,value:"7461621692516319283"}),this.client=new P.YE({token:"pat_kYRPc16sLCJafNqPh0x5AUS38NugfXeGDW3kElnrqMYzkYTQTIzxY3PYjKGdqyLc",allowPersonalAccessTokenInBrowser:!0,baseURL:"https://api.coze.cn"})}Object.defineProperty(e.prototype,"bots_list",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,x.sH)(this,void 0,void 0,(function(){var t,n,r;return(0,x.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.client.bots.list({space_id:this.spaceId,page_index:1,page_size:30})];case 1:return t=a.sent(),console.log("Received response:",t),n=t.space_bots,e.length=0,e.push.apply(e,n),console.log("Updated bots:",e),[3,3];case 2:return r=a.sent(),console.error("Error in bots_list:",r instanceof Error?r.message:r),[3,3];case 3:return[2]}}))}))}})}(),function(){function e(){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.client=new P.YE({token:"pat_kYRPc16sLCJafNqPh0x5AUS38NugfXeGDW3kElnrqMYzkYTQTIzxY3PYjKGdqyLc",allowPersonalAccessTokenInBrowser:!0,baseURL:"https://api.coze.cn"})}Object.defineProperty(e.prototype,"create_conversation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,x.sH)(this,void 0,void 0,(function(){var t,n,r,a,o,s,c,u,i,l,d,f;return(0,x.YH)(this,(function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),t={},n=null===(f=e[0])||void 0===f?void 0:f.content,r="",n&&(a=n.find((function(e){return"text"===e.type})),a&&a.text&&(r=a.text.slice(0,10))),o={introduction:r},console.log(o),s=e.map((function(e){return(0,x.Cl)((0,x.Cl)({},e),{content:JSON.stringify(e.content)})})),console.log(s),[4,this.client.conversations.create({messages:s,meta_data:o})];case 1:return c=v.sent(),console.log("Received response:",c),u=c.created_at,i=c.id,l=c.meta_data,t={created_at:u,id:i,meta_data:l},console.log("Conversation object:",t),[2,t];case 2:return d=v.sent(),console.error("Error in create_conversation:",d instanceof Error?d.message:d),[3,3];case 3:return[2]}}))}))}})}(),function(){function e(){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.client=new P.YE({token:"pat_kYRPc16sLCJafNqPh0x5AUS38NugfXeGDW3kElnrqMYzkYTQTIzxY3PYjKGdqyLc",allowPersonalAccessTokenInBrowser:!0,baseURL:"https://api.coze.cn"})}Object.defineProperty(e.prototype,"message_list",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,x.sH)(this,void 0,void 0,(function(){var t,n,r;return(0,x.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=[],[4,this.client.conversations.messages.list(e,{order:"asc"})];case 1:return n=a.sent(),console.log("Received response:",n),t=n.data,console.log(t),[2,t];case 2:return r=a.sent(),console.error("Error in message_list:",r instanceof Error?r.message:r),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(e.prototype,"message_delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,x.sH)(this,void 0,void 0,(function(){var n,r;return(0,x.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.client.conversations.messages.delete(e,t)];case 1:return n=a.sent(),console.log("被删除的信息详情:",n),[2,n];case 2:return r=a.sent(),console.error("Error in message_delete:",r instanceof Error?r.message:r),[3,3];case 3:return[2]}}))}))}})}(),function(){function e(){}return Object.defineProperty(e.prototype,"upload",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,x.sH)(this,void 0,void 0,(function(){var t,n,r;return(0,x.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),console.log(e),t=new FormData,t.append("file",e),[4,L.A.post(" https://api.coze.cn/v1/files/upload",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer pat_kYRPc16sLCJafNqPh0x5AUS38NugfXeGDW3kElnrqMYzkYTQTIzxY3PYjKGdqyLc"}})];case 1:if(n=a.sent(),0===n.data.code)return console.log("文件上传成功:",n),[2,n.data.data];throw new Error("文件上传失败，错误代码: ".concat(n.data.code,", 错误信息: ").concat(n.data.msg||"无详细信息"));case 2:return r=a.sent(),console.error("Error in message_list:",r instanceof Error?r.message:r),[3,3];case 3:return[2]}}))}))}}),e}()),W=n(953),Y=["innerHTML"];function O(e,t,n,r,o,s){return(0,a.uX)(),(0,a.CE)("div",{innerHTML:e.htmlContent,class:"markdown-output"},null,8,Y)}var M=n(5506),S=n(9878),j=(n(1732),new M.A({html:!0,linkify:!0,typographer:!0,highlight:function(e,t){if(t&&S.A.getLanguage(t))try{return S.A.highlight(t,e).value}catch(n){console.log(n)}return""}})),X=(0,a.pM)({name:"MarkdownRenderer",props:{markdownContent:{type:String,required:!0}},computed:{htmlContent:function(){return j.render(this.markdownContent)}},mounted:function(){this.addCopyButtons()},updated:function(){var e=this;(0,a.dY)((function(){e.addCopyButtons()}))},methods:{addCopyButtons:function(){var e=this,t=document.querySelectorAll(".markdown-output pre");t.forEach((function(t){var n;if(!t.querySelector(".copy-button")){var r=document.createElement("button");r.className="copy-button",r.textContent="复制",r.addEventListener("click",e.handleCopy);var a=document.createElement("div");a.style.position="relative",a.className="code-wrapper",null===(n=t.parentNode)||void 0===n||n.insertBefore(a,t),a.appendChild(t),a.appendChild(r)}}))},handleCopy:function(e){return(0,x.sH)(this,void 0,void 0,(function(){var t,n,r,a,o;return(0,x.YH)(this,(function(s){switch(s.label){case 0:t=e.target,n=t.previousElementSibling,r=(null===(o=n.querySelector("code"))||void 0===o?void 0:o.textContent)||"",s.label=1;case 1:return s.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(r)];case 2:return s.sent(),this.showFeedback(t,"已复制!"),[3,4];case 3:return a=s.sent(),this.showFeedback(t,"复制失败"),console.error("复制失败:",a),[3,4];case 4:return[2]}}))}))},showFeedback:function(e,t){var n=e.textContent;e.textContent=t,setTimeout((function(){e.textContent=n}),1500)}}});const K=(0,c.A)(X,[["render",O]]);var H=K,I=n.p+"static/img/user.8560e890.png",N=n.p+"static/img/robot.f8441027.png";console.log("@/assets");var V=(0,a.pM)({name:"chat_1",components:{MarkdownRenderer:H},setup:function(){var e=this,t=(0,W.KR)(!1),n=(0,W.KR)(!1),r=(0,W.KR)(!1),o=(0,W.KR)([{sender:"bot",content:"你好！欢迎来到聊天界面。"}]),s=(0,W.KR)(""),c=(0,W.KR)(I),u=(0,W.KR)(N),i=new R,l=function(){return(0,x.sH)(e,void 0,void 0,(function(){var e;return(0,x.YH)(this,(function(n){switch(n.label){case 0:return s.value.trim()?(t.value=!0,e=s.value,s.value="",[4,i.initiateChat(e,o.value)]):[3,2];case 1:n.sent(),t.value=!1,n.label=2;case 2:return[2]}}))}))},d=function(){r.value=!0},f=function(){r.value=!1};(0,a.wB)(o,(function(){return(0,x.sH)(e,void 0,void 0,(function(){var e;return(0,x.YH)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,a.dY)()];case 1:return t.sent(),p(),[3,3];case 2:return e=t.sent(),console.error("消息滚动失败:",e),[3,3];case 3:return[2]}}))}))}),{deep:!0,immediate:!1});var v=(0,W.KR)(null),p=function(){var e=v.value;if(e){var t=e.scrollHeight-e.scrollTop<=e.clientHeight+100;t&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}};return{messages:o,newMessage:s,userAvatar:c,botAvatar:u,sendMessage:l,isButtonDisabled:t,isAsked:r,setAsked:d,setSearch:f,dialogVisible:n,chatBox:v}}});const z=(0,c.A)(V,[["render",F],["__scopeId","data-v-05ed9144"]]);var q=z,B={class:"chat-container"},D={class:"messages"},U={key:0,class:"user-message"},G={key:1,class:"ai-message"},Q="7469023039142395904",J=(0,a.pM)({__name:"chat_2",setup:function(e){var t=(0,W.KR)(""),n=(0,W.KR)([]),o=(0,W.KR)("");function s(){return(0,x.sH)(this,void 0,void 0,(function(){var e,r;return(0,x.YH)(this,(function(a){switch(a.label){case 0:return""===t.value.trim()?[2]:(n.value.push({role:"user",content:t.value}),n.value.push({role:"assistant",content:""}),e=new R,r=n.value.map((function(e){return{role:e.role,content_type:"text",content:e.content}})),[4,e.create_chat(o.value,Q,r,(function(e){if(e&&e.content){var t=n.value.length-1;"assistant"===n.value[t].role&&(n.value[t].content=e.content)}}))]);case 1:return a.sent(),t.value="",[2]}}))}))}return function(e,o){var c=(0,a.g2)("el-input"),u=(0,a.g2)("el-button"),i=(0,a.g2)("el-col"),l=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(l,null,{default:(0,a.k6)((function(){return[(0,a.bF)(i,{span:18,offset:"3"},{default:(0,a.k6)((function(){return[(0,a.Lk)("div",B,[(0,a.Lk)("div",D,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.value,(function(e,t){return(0,a.uX)(),(0,a.CE)("div",{key:t,class:"message"},["user"===e.role?((0,a.uX)(),(0,a.CE)("div",U,[o[1]||(o[1]=(0,a.Lk)("span",null,"用户:",-1)),o[2]||(o[2]=(0,a.eW)()),(0,a.bF)(H,{markdownContent:e.content},null,8,["markdownContent"])])):((0,a.uX)(),(0,a.CE)("div",G,[o[3]||(o[3]=(0,a.Lk)("span",null,"智能体:",-1)),o[4]||(o[4]=(0,a.eW)()),(0,a.bF)(H,{markdownContent:e.content},null,8,["markdownContent"])]))])})),128))]),(0,a.bF)(c,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=function(e){return t.value=e}),placeholder:"请输入消息",onKeyup:(0,r.jR)(s,["enter"]),class:"input-box",clearable:""},null,8,["modelValue"]),(0,a.bF)(u,{type:"primary",onClick:s},{default:(0,a.k6)((function(){return o[5]||(o[5]=[(0,a.eW)("发送")])})),_:1})])]})),_:1})]})),_:1})])}}});const Z=(0,c.A)(J,[["__scopeId","data-v-5955986a"]]);var $=Z,ee=n(33);const te=["disabled"],ne={key:0},re={key:1},ae={key:2,class:"error"};var oe={__name:"chat_3",setup(e){const t=(0,W.KR)(null),n=(0,W.KR)(!1),r=(0,W.KR)(!1),o=(0,W.KR)(null),s=e=>{t.value=e.target.files[0]},c=async()=>{if(t.value){n.value=!0,r.value=!1,o.value=null;try{const e=new T,n=await e.upload(t.value);r.value=!0,console.log("返回值",n)}catch(e){o.value="上传失败，请重试",console.error("上传失败:",e)}finally{n.value=!1}}};return(e,u)=>((0,a.uX)(),(0,a.CE)("div",null,[u[0]||(u[0]=(0,a.Lk)("h1",null,"上传文件",-1)),(0,a.Lk)("input",{type:"file",onChange:s},null,32),(0,a.Lk)("button",{onClick:c,disabled:!t.value},"上传",8,te),n.value?((0,a.uX)(),(0,a.CE)("div",ne,"正在上传...")):(0,a.Q3)("",!0),r.value?((0,a.uX)(),(0,a.CE)("div",re,"上传成功！")):(0,a.Q3)("",!0),o.value?((0,a.uX)(),(0,a.CE)("div",ae,"上传失败："+(0,ee.v_)(o.value),1)):(0,a.Q3)("",!0)]))}};const se=(0,c.A)(oe,[["__scopeId","data-v-41a140da"]]);var ce=se,ue=n(6278);function ie(e,t,n,r,o,s){var c=(0,a.g2)("el-menu-item"),u=(0,a.g2)("el-menu");return(0,a.uX)(),(0,a.Wv)(u,{"default-active":e.activeIndex,class:"el-menu-vertical-demo",onSelect:e.handleSelect},{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.conversations,(function(e){return(0,a.uX)(),(0,a.Wv)(c,{key:e.id,index:e.id},{title:(0,a.k6)((function(){return[(0,a.eW)((0,ee.v_)(e.name),1)]})),_:2},1032,["index"])})),128))]})),_:1},8,["default-active","onSelect"])}var le=(0,a.pM)({name:"ConversationAside",setup:function(){var e=(0,W.KR)([{id:"1",name:"Conversation 1"},{id:"2",name:"Conversation 2"},{id:"3",name:"Conversation 3"}]),t=(0,W.KR)("1"),n=function(e,t){console.log("Selected: ".concat(e,", Path: ").concat(t))};return{activeIndex:t,handleSelect:n,conversations:e}}});const de=(0,c.A)(le,[["render",ie],["__scopeId","data-v-0fe67a2e"]]);var fe=de,ve=(0,a.pM)({__name:"collapseButton",setup:function(e){var t=(0,ue.Pj)(),n=function(){t.dispatch("toggleAside")};return function(e,t){var r=(0,a.g2)("el-button");return(0,a.uX)(),(0,a.Wv)(r,{onClick:n},{default:(0,a.k6)((function(){return t[0]||(t[0]=[(0,a.eW)("折叠/展开 Aside")])})),_:1})}}});const pe=ve;var he=pe,ge={style:{padding:"20px"}},be=(0,a.pM)({__name:"ChatView",setup:function(e){var t=(0,ue.Pj)(),n=(0,a.EW)((function(){return t.getters.asideWidth}));return function(e,t){var r=(0,a.g2)("el-aside"),o=(0,a.g2)("el-main"),s=(0,a.g2)("el-container");return(0,a.uX)(),(0,a.Wv)(s,{style:{height:"100%"}},{default:(0,a.k6)((function(){return[(0,a.bF)(r,{style:(0,ee.Tr)([{width:n.value},{overflow:"hidden"}]),class:"aside-transition"},{default:(0,a.k6)((function(){return[(0,a.bF)(fe)]})),_:1},8,["style"]),(0,a.bF)(o,null,{default:(0,a.k6)((function(){return[(0,a.Lk)("div",ge,[t[0]||(t[0]=(0,a.Lk)("h1",null,"主内容区",-1)),t[1]||(t[1]=(0,a.Lk)("p",null,"这里是主要内容",-1)),(0,a.bF)(he)])]})),_:1})]})),_:1})}}});const me=(0,c.A)(be,[["__scopeId","data-v-ed85541a"]]);var ke=me;function _e(e,t,n,r,o,s){var c=(0,a.g2)("el-button"),u=(0,a.g2)("el-header"),i=(0,a.g2)("el-card"),l=(0,a.g2)("el-scrollbar"),d=(0,a.g2)("el-main"),f=(0,a.g2)("el-upload"),v=(0,a.g2)("el-input"),p=(0,a.g2)("el-footer"),h=(0,a.g2)("el-container");return(0,a.uX)(),(0,a.Wv)(h,{class:"chat-container",style:{collapse:"hidden"}},{default:(0,a.k6)((function(){return[(0,a.bF)(u,{class:"chat-header"},{default:(0,a.k6)((function(){return[t[2]||(t[2]=(0,a.Lk)("h1",null,"AI Chat",-1)),(0,a.bF)(c,{type:"primary",onClick:e.newChat},{default:(0,a.k6)((function(){return t[1]||(t[1]=[(0,a.eW)("New Chat")])})),_:1},8,["onClick"])]})),_:1}),(0,a.bF)(d,{class:"chat-content"},{default:(0,a.k6)((function(){return[(0,a.bF)(l,null,{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.messages,(function(e){return(0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"chat-message"},[(0,a.bF)(i,null,{default:(0,a.k6)((function(){return[(0,a.Lk)("p",null,(0,ee.v_)(e.text),1)]})),_:2},1024)])})),128))]})),_:1})]})),_:1}),(0,a.bF)(p,{class:"chat-footer"},{default:(0,a.k6)((function(){return[(0,a.bF)(f,{class:"upload-demo",drag:"",action:"#","on-change":e.uploadFile,"show-file-list":!1},{default:(0,a.k6)((function(){return[(0,a.bF)(c,{type:"primary"},{default:(0,a.k6)((function(){return t[3]||(t[3]=[(0,a.eW)("Upload File")])})),_:1})]})),_:1},8,["on-change"]),(0,a.bF)(v,{modelValue:e.inputMessage,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.inputMessage=t}),placeholder:"Type your message...",class:"input-message"},null,8,["modelValue"]),(0,a.bF)(c,{type:"success",onClick:e.sendMessage},{default:(0,a.k6)((function(){return t[4]||(t[4]=[(0,a.eW)("Send")])})),_:1},8,["onClick"])]})),_:1})]})),_:1})}var ye=n(163),Ce=(0,a.pM)({name:"ChatOnly",setup:function(){var e=(0,W.KR)([]),t=(0,W.KR)(""),n=function(){ye.nk.success("New chat started")},r=function(e){ye.nk.success("File uploaded")},a=function(){t.value.trim()&&(e.value.push({id:Date.now(),text:t.value}),t.value="",ye.nk.success("Message sent"))};return{messages:e,inputMessage:t,newChat:n,uploadFile:r,sendMessage:a}}});const we=(0,c.A)(Ce,[["render",_e],["__scopeId","data-v-bc873188"]]);for(var Ee=we,Ae=[{path:"/",component:p},{path:"/chat_1",component:q},{path:"/chat_2",component:$},{path:"/chat_3",component:ce},{path:"/ChatView",component:ke},{path:"/test",component:Ee}],Fe=(0,l.aE)({history:(0,l.Bt)(""),routes:Ae}),xe=Fe,Pe=(0,ue.y$)({state:{asideWidth:"300px"},mutations:{toggleAside:function(e){e.asideWidth="300px"===e.asideWidth?"0":"300px"}},actions:{toggleAside:function(e){var t=e.commit;t("toggleAside")}},getters:{asideWidth:function(e){return e.asideWidth}}}),Le=n(7146),Re=(n(4188),n(8548)),Te=(0,r.Ef)(i),We=0,Ye=Object.entries(Re);We<Ye.length;We++){var Oe=Ye[We],Me=Oe[0],Se=Oe[1];Te.component(Me,Se)}Te.use(Pe).use(xe).use(Le.A).mount("#app")},2217:function(){},5993:function(){},1713:function(){},1048:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var s=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],o=e[l][2];for(var c=!0,u=0;u<r.length;u++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(c=!1,o<s&&(s=o));if(c){e.splice(l--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,a,o]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,s=r[0],c=r[1],u=r[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(u)var l=u(n)}for(t&&t(r);i<s.length;i++)o=s[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkllm_01"]=self["webpackChunkllm_01"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(2685)}));r=n.O(r)})();
//# sourceMappingURL=app.78dc9454.js.map